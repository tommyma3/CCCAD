# CAD config for n_transit ablation: n_transit=120
include: config/model/cad_dr.yaml

# Fixed compression tokens
n_compress_tokens: 16

# Variable: n_transit=120
# Available space after compression: 120 - 16 - 1 = 103 tokens
# Compression triggers every ~103 new transitions
n_transit: 120

# Adjusted length categories for larger n_transit
min_context_length: 20
max_context_length: 1500

# Curriculum adjusted for slower compression trigger
curriculum_schedule:
  - step: 0
    max_compressions: 1
    length_distribution:
      short: 0.50
      medium: 0.45
      long: 0.05
      very_long: 0.00
  - step: 30000
    max_compressions: 3
    length_distribution:
      short: 0.25
      medium: 0.50
      long: 0.20
      very_long: 0.05
  - step: 50000
    max_compressions: 5
    length_distribution:
      short: 0.15
      medium: 0.40
      long: 0.30
      very_long: 0.15
  - step: 75000
    max_compressions: null
    length_distribution:
      short: 0.15
      medium: 0.25
      long: 0.35
      very_long: 0.25
